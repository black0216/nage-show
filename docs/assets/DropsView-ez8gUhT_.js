import{d as N,r as _,b as S,e as T,c as a,f as t,w as b,v as I,F as m,g as f,o as n,t as i,n as g,h as y,i as D,_ as $}from"./index-BBIiCYv7.js";const C={class:"drops-view"},M={class:"filters"},V={class:"drops-container"},z={class:"monster-name"},j={class:"items-grid"},B=["onMouseenter"],F=["alt"],G={class:"item-name-label"},L={class:"tooltip-header"},P={class:"item-name"},X={class:"item-type"},Y={key:0,class:"gift-contents"},q={class:"gift-items"},E={class:"gift-item-name"},R=N({__name:"DropsView",setup(U){const u=_([]),c=_(""),p=_(null);S(async()=>{try{const s=await(await fetch("/Drops.json")).json();u.value=s}catch(o){console.error("Failed to load drops data:",o)}});const k=T(()=>c.value?u.value.filter(o=>o.NpcName.toLowerCase().includes(c.value.toLowerCase())):u.value),w=(o,s,r)=>{const e=`/images/${o.startsWith("Item")?o:`Item${o.padStart(2,"0")}`}.jpg`,d=32,l=-(r-1)*d,v=-(s-1)*d;return{width:"32px",height:"32px",backgroundImage:`url(${e})`,backgroundPosition:`${l}px ${v}px`,backgroundSize:"256px 256px",backgroundRepeat:"no-repeat"}},x=o=>{switch(o){case 1:return"普通道具";case 2:return"礼包";case 3:return"装备";default:return"未知"}};return(o,s)=>(n(),a("div",C,[s[3]||(s[3]=t("h1",null,"掉落表",-1)),t("div",M,[b(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>c.value=r),type:"text",placeholder:"搜索怪物名称...",class:"search-input"},null,512),[[I,c.value]])]),t("div",V,[(n(!0),a(m,null,f(k.value,(r,h)=>(n(),a("div",{key:h,class:"drop-item"},[t("div",z,i(r.NpcName),1),t("div",j,[(n(!0),a(m,null,f(r.DropItems,(e,d)=>(n(),a("div",{key:d,class:g(["item-container",{equipment:e.Type===3,gift:e.Type===2}])},[t("div",{class:"item-wrapper",onMouseenter:l=>p.value=e,onMouseleave:s[1]||(s[1]=l=>p.value=null)},[t("div",{class:"item-icon",style:D(w(e.Sheet,e.X,e.Y)),alt:e.Name},null,12,F),t("div",G,i(e.Name),1)],40,B),p.value===e?(n(),a("div",{key:0,class:g(["tooltip",{"gift-tooltip":e.Type===2}])},[t("div",L,[t("span",P,i(e.Name),1),t("span",X,i(x(e.Type)),1)]),e.Type===2&&e.Gifts&&e.Gifts.length>0?(n(),a("div",Y,[s[2]||(s[2]=t("div",{class:"gift-title"},"礼包内容：",-1)),t("div",q,[(n(!0),a(m,null,f(e.Gifts,(l,v)=>(n(),a("div",{key:v,class:"gift-item"},[t("span",E,i(l),1)]))),128))])])):y("",!0)],2)):y("",!0)],2))),128))])]))),128))])]))}}),A=$(R,[["__scopeId","data-v-0f96024f"]]);export{A as default};
